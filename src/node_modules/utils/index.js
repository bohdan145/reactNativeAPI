import { Platform } from 'react-native';
import axios from 'axios';
import AsyncStorage from '@react-native-community/async-storage';

const isIos = Platform.OS === 'ios';
const API_URL = 'https://api.github.com';

async function storeLocal({ name, value }) {
  try {
    await AsyncStorage.setItem(name, value);
  } catch (error) {
    console.log('AsyncStorage error during token store:', error);
  }
}

const defaultOptions = {
  baseURL: API_URL,
  headers: {
    'Content-Type': 'application/json',
  },
};

const apiCall = axios.create(defaultOptions);

export {
  isIos,
  apiCall,
  storeLocal,
};
